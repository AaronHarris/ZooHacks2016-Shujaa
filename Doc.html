<!DOCTYPE html>
<html ng-app="shujaaApp" ng-controller="shujaaController">
<head>
	<title>Shujaa</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="WebsiteCode.css">
	<script src="lib/context-matrix.js" defer></script>
	<script src="lib/jquery-3.1.1.js" defer></script>
	<script src="lib/jquery-eventEmitter.js" defer></script>
	<script src="src/MapMixin.js" defer></script>
	<script src="src/MoverMixin.js" defer></script>
	<script src="src/animal.js" defer></script>
    <script src="src/bigmap.js" defer></script>
    <script src="src/game.js" defer></script>
	<script src="src/minimap.js" defer></script>
	<script src="src/player.js" defer></script>
	<script src="src/poacher.js" defer></script>
	<script src="src/ranger.js" defer></script>
    <script src="src/world.js" defer></script>
    <script>
        var gameConfig = {
			canvasId: 'game',
			bigmapUrl: 'images/map.png',
			bigmapCanvasId: 'bigMap',
			minimapUrl: 'images/map.png',
			minimapCanvasId: 'miniMap',
			player: {
				name: 'Desmond',
				imageUrl: 'images/player.png',
				position: [327, 353]
			},
			rangers: [{
				name: 'Aisha',
				imageUrl: 'images/aisha.png',
				script: [
					{time: 0, event: 'setPosition', dest: [308, 352]},
					{time: 0, event: 'setDestination', dest: [318, 352]},
					{time: 10, event: 'setDestination', dest: [325, 332]},
				]
			}, {
				name: 'Kwesi',
				imageUrl: 'images/ranger_1.png',
				script: [
					{time: 0, event: 'setPosition', dest: [308, 352]},
					{time: 0, event: 'setDestination', dest: [318, 352]},
					{time: 10, event: 'setDestination', dest: [326, 332]},
				]
			}, {
				name: 'Francis',
				imageUrl: 'images/ranger_3.png',
				script: [
					{time: 0, event: 'setPosition', dest: [308, 352]},
					{time: 0, event: 'setDestination', dest: [318, 352]},
					{time: 10, event: 'setDestination', dest: [323, 332]},
				]
			}],
			animals: [{
				name: 'elephant',
				position: [322, 339]
			}, {
				name: 'elephant',
				position: [322, 359]
			}],
			poachers: [{
				name: 'poacher',
				script: [
					{time: 0, event: 'setPosition', dest: [297, 388]},
					{time: 0, event: 'setDestination', dest: [314, 384]},
					{time: 10, event: 'setDestination', dest: [314, 368]},
				]
			}],
		};
        // call shujaa.start() to start game, but not until after the page has loaded
        window.shujaa = window.shujaa || {};
        window.shujaa.game = null;
        window.addEventListener('load', function () {
            window.shujaa.game = new window.shujaa.Game(gameConfig);
        });
		function hideStartView() {
			$('#start-view').hide();
			window.shujaa.game.start();
		}
    </script>
</head>

<body id="myPage">
	<!-- Image Header -->
	{{loadStartView()}}
	<div id="start-view" class="display-container display-topleft start-format" ng-show="showingStartView">
		<img src="Wallpaper2.jpg" alt="Rhino" width="100%">
		<div class="container" style="position:absolute;left:40%;bottom:58%;center;">
			<h1 style="font-size:64px;color:white;">Shujaa</h1>
		</div>
		<div class="container" style="position:absolute;left:43%;bottom:53%;center;">
			<button onclick="hideStartView()" class="btn large yellowGreen yellowGreen-hover btn-format" title="Start"><b>Start</b></button>
		</div>
	</div>

	<div id="main-view" class="container display-topleft main-format"  ng-show="showingMainView">
		<canvas id="bigMap" width="1024" height="768"></canvas>
	</div>

	<div id="chatlog-view"class="container display-bottommiddle chatlog-format" ng-show="showingChatlogView">
		
	</div>

	<div id="minimap-view" class="container display-topright minimap-format" ng-show="showingMinimapView">
		<canvas id="miniMap" width="200" height="200"></canvas>
	</div>
</body>
</html>
